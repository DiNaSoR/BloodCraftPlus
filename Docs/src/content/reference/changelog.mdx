# Changelog

All notable changes to BloodCraftPlus are documented here.

<div className="changelog-current">

| Mod | Version | Type |
|-----|---------|------|
| **EclipsePlus** | `1.4.0` | üñ•Ô∏è Client |
| **Bloodcraftplus** | `1.12.21` | üóÑÔ∏è Server |

</div>

---

<ChangelogSection version="v1.4.0 / v1.12.21" date="January 17, 2026" title="Gear Level UI & Rift/Familiar Fixes" defaultOpen={true}>

### üñ•Ô∏è EclipsePlus (Client)

#### Changed
- **Protocol**: bumped Eclipse sync to `1.4.x` (update client + server together).

#### Fixed
- **Familiar stats display**: HP/PP/SP no longer mis-parses when values exceed old fixed-width limits.

---

### üóÑÔ∏è Bloodcraftplus (Server)

#### Changed
- **Equipment Tab Gear Level**: now shows **Exp level only** (no longer adds weapon expertise and no hidden +1).
#### Fixed
- **Primal rifts**: `RiftFrequency <= 0` now disables rift scheduling (prevents 0-interval spam).
- **Familiar stats sync**: Familiar HP/PP/SP now sent as `hp|pp|sp` to avoid overflow/misalignment.
- **Documentation**: clarified that some config options (e.g., `ElitePrimalRifts`) are cached at startup and require a server restart.

</ChangelogSection>

<ChangelogSection version="v1.3.15 / v1.12.20" date="January 15, 2026" title="Character Menu & Talents">

### üñ•Ô∏è EclipsePlus (Client)

#### Added

**Character Menu System**
- **Class Tab** ‚Äî View and select player classes with stat previews
- **Exoform Tab** ‚Äî Manage exoform abilities and transformations
- **Familiars Tab** ‚Äî Complete familiar management with sub-panels:
  - Battles Panel ‚Äî Familiar combat and battle management
  - Talents Panel ‚Äî Visual talent tree with Speed/Power/Vitality paths
  - Overflow Panel ‚Äî Manage excess familiars
  - Settings Panel ‚Äî Per-familiar configuration options
- **Prestige Tab** ‚Äî Track and purchase prestige upgrades
- **Professions Tab** ‚Äî View profession levels and bonuses
- **Progression Tab** ‚Äî Combined class and profession overview
- **Stat Bonuses Tab** ‚Äî Detailed stat breakdown and bonuses

**HUD Components**
- Experience Bar ‚Äî Real-time XP progress display
- Expertise Bar ‚Äî Weapon mastery progress tracking
- Familiar Bar ‚Äî Familiar health and level display
- Legacy Bar ‚Äî Blood legacy progress indicator
- Quest Tracker ‚Äî Active quest objectives overlay

**VDebug Toolkit**
- New VDebug plugin with asset dumping and UI inspection
- UI Inspector Service with layout, sibling, and style info
- Export functionality for capturing UI component details
- Font Loading Service supporting asset bundles and in-game resources

**Layout Service**
- LayoutService for managing UI element positions with save/load
- In-game layout editing mode for real-time UI adjustments
- Canvas-relative bounds calculations for hit-testing
- Enhanced drag/hover functionality with zero-size rect handling

#### Improved
- Renamed Professions tab to Progression for consistency
- Modular CSS structure split into separate files for maintainability
- Updated icons for better representation

#### Fixed
- Fixed compilation issues with Professions ‚Üí Progression references
- Improved logging framework across multiple services and patches

---

### üóÑÔ∏è Bloodcraftplus (Server)

#### Added

**Familiar Talent System**
- Full Talent Tree UI with three paths: Speed, Power, and Vitality
- Talent allocation with prerequisites and keystone abilities
- Stat bonuses including Physical Power, Spell Power, Attack Speed, Movement Speed, Max Health, and Damage Reduction
- Visual buff effects for allocated keystones
- Talent reset functionality for respeccing familiar builds
- Server-side persistence with per-familiar talent data storage

**Gear Level Mirage System**
- Dynamic gear level display calculated as Player Level + Weapon Expertise
- Armor level hidden (set to 0) to emphasize weapon mastery
- Real-time updates when switching weapons or gaining expertise

#### Improved
- Standardized naming convention for Bloodcraftplus across all files
- GitHub Actions workflows standardized and updated
- BuildToServer target with SkipServerCopy variable for build flexibility
- Post-build targets refactored for builds without local dependencies

#### Fixed
- **Familiar Catch-Up Speed** ‚Äî Dynamic speed boost when familiar is far from player (15+ units away), 2x speed multiplier with hysteresis system
- Fixed GitHub Actions to use bracket notation for secrets
- Fixed build output paths for release artifacts

</ChangelogSection>

<ChangelogSection version="v1.3.14 / v1.12.19" date="January 14, 2026" title="VDebug & Layout Improvements">

### üñ•Ô∏è EclipsePlus (Client)

#### Added
- VDebug integration bridge for development tools
- Layout editor with drag-and-drop positioning
- Enhanced canvas service for UI management

#### Improved
- Better error handling in data synchronization
- Optimized HUD rendering performance

#### Fixed
- Fixed layout persistence across game sessions
- Resolved UI element overlap issues

---

### üóÑÔ∏è Bloodcraftplus (Server)

#### Improved
- Enhanced familiar AI behavior
- Better quest tracking accuracy

#### Fixed
- Fixed edge case in prestige calculations
- Resolved rare crash during familiar summoning

</ChangelogSection>

<ChangelogSection version="v1.3.13 / v1.12.18" date="January 13, 2026" title="Cleanup & Stabilization">

### üñ•Ô∏è EclipsePlus (Client)

#### Improved
- Code cleanup and refactoring
- Removed deprecated components
- Improved type safety throughout

#### Fixed
- Various minor UI fixes
- Memory leak in HUD components resolved

---

### üóÑÔ∏è Bloodcraftplus (Server)

#### Improved
- Database query optimizations
- Reduced server tick overhead

#### Fixed
- Fixed rare desync in familiar stats
- Corrected experience calculation edge cases

</ChangelogSection>

---

## Build & Infrastructure

| Change | Description |
|--------|-------------|
| GitHub Actions | Updated to use `dotnet build` instead of `dotnet build -t:Compile` |
| Thunderstore | Added build configuration with proper output directories |
| Secrets | Fixed bracket notation for accessing secrets |
| Versioning | Synchronized thunderstore.toml versions across projects |
| Documentation | Added Vite/React documentation site with GitHub Pages deployment |

---

<Callout type="warning">
  Make sure both client (EclipsePlus) and server (Bloodcraftplus) mods match compatible versions.
</Callout>
